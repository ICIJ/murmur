/*!
* vue-headroom v0.8.0
* git+https://github.com/dalphyx/vue-headroom.git
*
* Copyright (c) 2017 dalphyx
* Released under the MIT license
*
* Date: 2017-11-29T08:28:59.673Z
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vueHeadroom=e()}(this,function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}for(var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){(function(){var e,n,o,i,r,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-r)/1e6},n=process.hrtime,i=(e=function(){var t;return 1e9*(t=n())[0]+t[1]})(),s=1e9*process.uptime(),r=i-s):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(e)}),o="undefined"==typeof window?e:window,i=["moz","webkit"],r="AnimationFrame",s=o["request"+r],l=o["cancel"+r]||o["cancelRequest"+r],c=0;!s&&c<i.length;c++)s=o[i[c]+"Request"+r],l=o[i[c]+"Cancel"+r]||o[i[c]+"CancelRequest"+r];if(!s||!l){var h=0,u=0,a=[];s=function(t){if(0===a.length){var e=n(),o=Math.max(0,1e3/60-(e-h));h=o+e,setTimeout(function(){var t=a.slice(0);a.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(h)}catch(t){setTimeout(function(){throw t},0)}},Math.round(o))}return a.push({handle:++u,callback:t,cancelled:!1}),u},l=function(t){for(var e=0;e<a.length;e++)a[e].handle===t&&(a[e].cancelled=!0)}}var d=function(t){return s.call(o,t)};d.cancel=function(){l.apply(o,arguments)},d.polyfill=function(t){t||(t=o),t.requestAnimationFrame=s,t.cancelAnimationFrame=l};var p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},f={pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"},m={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.cls,style:this.style},[this._t("default")],2)},staticRenderFns:[],name:"vueHeadroom",data:function(){return{isTop:!1,isNotTop:!1,isBottom:!1,isNotBottom:!1,isPinned:!1,isUnpinned:!1,currentScrollY:0,lastScrollY:0,state:"",translate:0,isSupport3d:!1}},props:{scroller:{type:Function,default:function(){return window}},disabled:{type:Boolean,default:!1},upTolerance:{type:Number,default:5},downTolerance:{type:Number,default:0},speed:{type:Number,default:250},easing:{type:String,default:"ease-in-out"},zIndex:{type:Number,default:9999},onPin:Function,onUnpin:Function,onTop:Function,onNotTop:Function,onBottom:Function,onNotBottom:Function,offset:{type:Number,default:0},classes:{type:Object,default:function(){return f}}},watch:{disabled:function(t){t?this.scroller().removeEventListener("scroll",this._handleScroll):this.scroller().addEventListener("scroll",this._handleScroll)}},mounted:function(){this.isSupport3d=function(){for(var t=document.createElement("div"),e=!1,n=["perspectiveProperty","WebkitPerspective"],o=n.length-1;o>=0;o--)e=e||void 0!==t.style[n[o]];if(e){var i=document.createElement("style");i.textContent="#modernizr{width:0;height:0} @media (transform-3d),(-webkit-transform-3d){#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",document.getElementsByTagName("head")[0].appendChild(i),t.id="modernizr",document.body.appendChild(t),e=7===t.offsetWidth&&18===t.offsetHeight,i.parentNode.removeChild(i),t.parentNode.removeChild(t)}return e}(),this.disabled||this.scroller().addEventListener("scroll",this._handleScroll),this._handleScroll()},beforeDestroy:function(){this.scroller().removeEventListener("scroll",this._handleScroll)},computed:{style:function(){var t={position:this.isInTop?"fixed":"relative",top:"0",left:"0",right:"0","z-index":this.isInTop?this.zIndex:1};return this.$isServer||(t.transform=this.isSupport3d&&!this.$isServer?"translate3d(0, "+this.translate+", 0)":"translateY("+this.translate+")",t.transition=this.isInTop?"all "+this.speed+"ms "+this.easing:null),t},clsOpts:function(){return p({},f,this.classes)},cls:function(){var e,n=this.clsOpts;return this.disabled?{}:(e={},t(e,n.top,this.isTop),t(e,n.notTop,this.isNotTop),t(e,n.bottom,this.isBottom),t(e,n.notBottom,this.isNotBottom),t(e,n.pinned,this.isPinned),t(e,n.unpinned,this.isUnpinned),t(e,n.initial,!0),e)},isInTop:function(){return"pinned"===this.state||"unpinned"===this.state}},methods:{_getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},_getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},_getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},_getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},_getScrollerPhysicalHeight:function(){var t=this.scroller();return t===window||t===document.body?this._getViewportHeight():this._getElementPhysicalHeight(t)},_getScrollerHeight:function(){var t=this.scroller();return t===window||t===document.body?this._getDocumentHeight():this._getElementHeight(t)},_isOutOfBound:function(t){var e=t<0,n=this._getScrollerPhysicalHeight(),o=this._getScrollerHeight();return e||t+n>o},_handleScroll:function(){d(this.update)},_getScrollY:function(){return void 0!==this.scroller().pageYOffset?this.scroller().pageYOffset:void 0!==this.scroller().scrollTop?this.scroller().scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},update:function(){if(this.currentScrollY=this._getScrollY(),!this._isOutOfBound(this.currentScrollY)){this.currentScrollY<=this.offset?this.top():this.notTop(),this.currentScrollY+this._getViewportHeight()>=this._getScrollerHeight()?this.bottom():this.notBottom();var t=function(t){var e,n=t.currentScrollY>=t.lastScrollY?"down":"up",o=Math.abs(t.currentScrollY-t.lastScrollY);return"down"===n&&t.currentScrollY>=t.offset&&o>t.downTolerance?e="unpin":("up"===n&&o>t.upTolerance||t.currentScrollY<=t.offset)&&(e="pin"),e}(this);"pin"===t?this.pin():"unpin"===t&&this.unpin(),this.lastScrollY=this.currentScrollY}},top:function(){this.isTop||(this.isTop=!0,this.isNotTop=!1,this.onTop&&this.onTop())},notTop:function(){this.isNotTop||(this.isTop=!1,this.isNotTop=!0,this.onNotTop&&this.onNotTop())},bottom:function(){this.isBottom||(this.isBottom=!0,this.isNotBottom=!1,this.onBottom&&this.onBottom())},notBottom:function(){this.isNotBottom||(this.isNotBottom=!0,this.isBottom=!1,this.onNotBottom&&this.onNotBottom())},pin:function(){var t=this;this.isPinned||(this.isPinned=!0,this.isUnpinned=!1,this.onPin&&this.onPin(),this.$emit("pin"),this.translate=0,setTimeout(function(){t.state="pinned"},0))},unpin:function(){var t=this;!this.isPinned&&this.isUnpinned||(this.isUnpinned=!0,this.isPinned=!1,this.onUnpin&&this.onUnpin(),this.$emit("unpin"),this.translate="-100%",setTimeout(function(){t.state="unpinned"},0))}}},g=function t(e){t.installed||e.component(m.name,m)};"undefined"!=typeof window&&window.Vue&&g(window.Vue);return{headroom:m,install:g}});